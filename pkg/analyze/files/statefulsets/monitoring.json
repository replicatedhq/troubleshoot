{
  "kind": "StatefulSetList",
  "apiVersion": "apps/v1",
  "metadata": {
    "resourceVersion": "27195655"
  },
  "items": [
    {
      "metadata": {
        "name": "alertmanager-prometheus-alertmanager",
        "namespace": "monitoring",
        "selfLink": "/apis/apps/v1/namespaces/monitoring/statefulsets/alertmanager-prometheus-alertmanager",
        "uid": "73597dc5-f02d-4557-95ed-ce9daff3b6c9",
        "resourceVersion": "3068",
        "generation": 2,
        "creationTimestamp": "2021-12-17T18:41:31Z",
        "labels": {
          "app": "kube-prometheus-stack-alertmanager",
          "app.kubernetes.io/instance": "v0.49.0-17.1.3",
          "app.kubernetes.io/managed-by": "Helm",
          "app.kubernetes.io/part-of": "kube-prometheus-stack",
          "app.kubernetes.io/version": "17.1.3",
          "chart": "kube-prometheus-stack-17.1.3",
          "heritage": "Helm",
          "release": "v0.49.0-17.1.3"
        },
        "annotations": {
          "prometheus-operator-input-hash": "17184405095684028533"
        },
        "ownerReferences": [
          {
            "apiVersion": "monitoring.coreos.com/v1",
            "kind": "Alertmanager",
            "name": "prometheus-alertmanager",
            "uid": "c13bc191-0eb8-4fea-95b2-d78a140a64be",
            "controller": true,
            "blockOwnerDeletion": true
          }
        ],
        "managedFields": [
          {
            "manager": "operator",
            "operation": "Update",
            "apiVersion": "apps/v1",
            "time": "2021-12-17T18:42:37Z",
            "fieldsType": "FieldsV1",
            "fieldsV1": {
              "f:metadata": {
                "f:annotations": {
                  ".": {},
                  "f:prometheus-operator-input-hash": {}
                },
                "f:labels": {
                  ".": {},
                  "f:app": {},
                  "f:app.kubernetes.io/instance": {},
                  "f:app.kubernetes.io/managed-by": {},
                  "f:app.kubernetes.io/part-of": {},
                  "f:app.kubernetes.io/version": {},
                  "f:chart": {},
                  "f:heritage": {},
                  "f:release": {}
                },
                "f:ownerReferences": {
                  ".": {},
                  "k:{\"uid\":\"c13bc191-0eb8-4fea-95b2-d78a140a64be\"}": {
                    ".": {},
                    "f:apiVersion": {},
                    "f:blockOwnerDeletion": {},
                    "f:controller": {},
                    "f:kind": {},
                    "f:name": {},
                    "f:uid": {}
                  }
                }
              },
              "f:spec": {
                "f:podManagementPolicy": {},
                "f:replicas": {},
                "f:revisionHistoryLimit": {},
                "f:selector": {
                  "f:matchLabels": {
                    ".": {},
                    "f:alertmanager": {},
                    "f:app": {},
                    "f:app.kubernetes.io/instance": {},
                    "f:app.kubernetes.io/managed-by": {},
                    "f:app.kubernetes.io/name": {}
                  }
                },
                "f:serviceName": {},
                "f:template": {
                  "f:metadata": {
                    "f:annotations": {
                      ".": {},
                      "f:kubectl.kubernetes.io/default-container": {}
                    },
                    "f:labels": {
                      ".": {},
                      "f:alertmanager": {},
                      "f:app": {},
                      "f:app.kubernetes.io/instance": {},
                      "f:app.kubernetes.io/managed-by": {},
                      "f:app.kubernetes.io/name": {},
                      "f:app.kubernetes.io/version": {}
                    }
                  },
                  "f:spec": {
                    "f:affinity": {
                      ".": {},
                      "f:podAntiAffinity": {
                        ".": {},
                        "f:requiredDuringSchedulingIgnoredDuringExecution": {}
                      }
                    },
                    "f:containers": {
                      "k:{\"name\":\"alertmanager\"}": {
                        ".": {},
                        "f:args": {},
                        "f:env": {
                          ".": {},
                          "k:{\"name\":\"POD_IP\"}": {
                            ".": {},
                            "f:name": {},
                            "f:valueFrom": {
                              ".": {},
                              "f:fieldRef": {
                                ".": {},
                                "f:apiVersion": {},
                                "f:fieldPath": {}
                              }
                            }
                          }
                        },
                        "f:image": {},
                        "f:imagePullPolicy": {},
                        "f:livenessProbe": {
                          ".": {},
                          "f:failureThreshold": {},
                          "f:httpGet": {
                            ".": {},
                            "f:path": {},
                            "f:port": {},
                            "f:scheme": {}
                          },
                          "f:periodSeconds": {},
                          "f:successThreshold": {},
                          "f:timeoutSeconds": {}
                        },
                        "f:name": {},
                        "f:ports": {
                          ".": {},
                          "k:{\"containerPort\":9093,\"protocol\":\"TCP\"}": {
                            ".": {},
                            "f:containerPort": {},
                            "f:name": {},
                            "f:protocol": {}
                          },
                          "k:{\"containerPort\":9094,\"protocol\":\"TCP\"}": {
                            ".": {},
                            "f:containerPort": {},
                            "f:name": {},
                            "f:protocol": {}
                          },
                          "k:{\"containerPort\":9094,\"protocol\":\"UDP\"}": {
                            ".": {},
                            "f:containerPort": {},
                            "f:name": {},
                            "f:protocol": {}
                          }
                        },
                        "f:readinessProbe": {
                          ".": {},
                          "f:failureThreshold": {},
                          "f:httpGet": {
                            ".": {},
                            "f:path": {},
                            "f:port": {},
                            "f:scheme": {}
                          },
                          "f:initialDelaySeconds": {},
                          "f:periodSeconds": {},
                          "f:successThreshold": {},
                          "f:timeoutSeconds": {}
                        },
                        "f:resources": {
                          ".": {},
                          "f:requests": {
                            ".": {},
                            "f:memory": {}
                          }
                        },
                        "f:terminationMessagePath": {},
                        "f:terminationMessagePolicy": {},
                        "f:volumeMounts": {
                          ".": {},
                          "k:{\"mountPath\":\"/alertmanager\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/alertmanager/certs\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:readOnly": {}
                          },
                          "k:{\"mountPath\":\"/etc/alertmanager/config\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          }
                        }
                      },
                      "k:{\"name\":\"config-reloader\"}": {
                        ".": {},
                        "f:args": {},
                        "f:command": {},
                        "f:env": {
                          ".": {},
                          "k:{\"name\":\"POD_NAME\"}": {
                            ".": {},
                            "f:name": {},
                            "f:valueFrom": {
                              ".": {},
                              "f:fieldRef": {
                                ".": {},
                                "f:apiVersion": {},
                                "f:fieldPath": {}
                              }
                            }
                          },
                          "k:{\"name\":\"SHARD\"}": {
                            ".": {},
                            "f:name": {},
                            "f:value": {}
                          }
                        },
                        "f:image": {},
                        "f:imagePullPolicy": {},
                        "f:name": {},
                        "f:resources": {
                          ".": {},
                          "f:limits": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          },
                          "f:requests": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          }
                        },
                        "f:terminationMessagePath": {},
                        "f:terminationMessagePolicy": {},
                        "f:volumeMounts": {
                          ".": {},
                          "k:{\"mountPath\":\"/etc/alertmanager/config\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:readOnly": {}
                          }
                        }
                      }
                    },
                    "f:dnsPolicy": {},
                    "f:restartPolicy": {},
                    "f:schedulerName": {},
                    "f:securityContext": {
                      ".": {},
                      "f:fsGroup": {},
                      "f:runAsGroup": {},
                      "f:runAsNonRoot": {},
                      "f:runAsUser": {}
                    },
                    "f:serviceAccount": {},
                    "f:serviceAccountName": {},
                    "f:terminationGracePeriodSeconds": {},
                    "f:volumes": {
                      ".": {},
                      "k:{\"name\":\"alertmanager-prometheus-alertmanager-db\"}": {
                        ".": {},
                        "f:emptyDir": {},
                        "f:name": {}
                      },
                      "k:{\"name\":\"config-volume\"}": {
                        ".": {},
                        "f:name": {},
                        "f:secret": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:secretName": {}
                        }
                      },
                      "k:{\"name\":\"tls-assets\"}": {
                        ".": {},
                        "f:name": {},
                        "f:secret": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:secretName": {}
                        }
                      }
                    }
                  }
                },
                "f:updateStrategy": {
                  "f:type": {}
                }
              }
            }
          },
          {
            "manager": "kube-controller-manager",
            "operation": "Update",
            "apiVersion": "apps/v1",
            "time": "2021-12-17T18:42:52Z",
            "fieldsType": "FieldsV1",
            "fieldsV1": {
              "f:status": {
                "f:currentReplicas": {},
                "f:currentRevision": {},
                "f:observedGeneration": {},
                "f:readyReplicas": {},
                "f:replicas": {},
                "f:updateRevision": {},
                "f:updatedReplicas": {}
              }
            }
          }
        ]
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "alertmanager": "prometheus-alertmanager",
            "app": "alertmanager",
            "app.kubernetes.io/instance": "prometheus-alertmanager",
            "app.kubernetes.io/managed-by": "prometheus-operator",
            "app.kubernetes.io/name": "alertmanager"
          }
        },
        "template": {
          "metadata": {
            "creationTimestamp": null,
            "labels": {
              "alertmanager": "prometheus-alertmanager",
              "app": "alertmanager",
              "app.kubernetes.io/instance": "prometheus-alertmanager",
              "app.kubernetes.io/managed-by": "prometheus-operator",
              "app.kubernetes.io/name": "alertmanager",
              "app.kubernetes.io/version": "0.22.2"
            },
            "annotations": {
              "kubectl.kubernetes.io/default-container": "alertmanager"
            }
          },
          "spec": {
            "volumes": [
              {
                "name": "config-volume",
                "secret": {
                  "secretName": "alertmanager-prometheus-alertmanager-generated",
                  "defaultMode": 420
                }
              },
              {
                "name": "tls-assets",
                "secret": {
                  "secretName": "alertmanager-prometheus-alertmanager-tls-assets",
                  "defaultMode": 420
                }
              },
              {
                "name": "alertmanager-prometheus-alertmanager-db",
                "emptyDir": {}
              }
            ],
            "containers": [
              {
                "name": "alertmanager",
                "image": "quay.io/prometheus/alertmanager:v0.22.2",
                "args": [
                  "--config.file=/etc/alertmanager/config/alertmanager.yaml",
                  "--storage.path=/alertmanager",
                  "--data.retention=120h",
                  "--cluster.listen-address=",
                  "--web.listen-address=:9093",
                  "--web.external-url=http://prometheus-alertmanager.monitoring:9093",
                  "--web.route-prefix=/",
                  "--cluster.peer=alertmanager-prometheus-alertmanager-0.alertmanager-operated:9094",
                  "--cluster.reconnect-timeout=5m"
                ],
                "ports": [
                  {
                    "name": "web",
                    "containerPort": 9093,
                    "protocol": "TCP"
                  },
                  {
                    "name": "mesh-tcp",
                    "containerPort": 9094,
                    "protocol": "TCP"
                  },
                  {
                    "name": "mesh-udp",
                    "containerPort": 9094,
                    "protocol": "UDP"
                  }
                ],
                "env": [
                  {
                    "name": "POD_IP",
                    "valueFrom": {
                      "fieldRef": {
                        "apiVersion": "v1",
                        "fieldPath": "status.podIP"
                      }
                    }
                  }
                ],
                "resources": {
                  "requests": {
                    "memory": "200Mi"
                  }
                },
                "volumeMounts": [
                  {
                    "name": "config-volume",
                    "mountPath": "/etc/alertmanager/config"
                  },
                  {
                    "name": "tls-assets",
                    "readOnly": true,
                    "mountPath": "/etc/alertmanager/certs"
                  },
                  {
                    "name": "alertmanager-prometheus-alertmanager-db",
                    "mountPath": "/alertmanager"
                  }
                ],
                "livenessProbe": {
                  "httpGet": {
                    "path": "/-/healthy",
                    "port": "web",
                    "scheme": "HTTP"
                  },
                  "timeoutSeconds": 3,
                  "periodSeconds": 10,
                  "successThreshold": 1,
                  "failureThreshold": 10
                },
                "readinessProbe": {
                  "httpGet": {
                    "path": "/-/ready",
                    "port": "web",
                    "scheme": "HTTP"
                  },
                  "initialDelaySeconds": 3,
                  "timeoutSeconds": 3,
                  "periodSeconds": 5,
                  "successThreshold": 1,
                  "failureThreshold": 10
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "FallbackToLogsOnError",
                "imagePullPolicy": "IfNotPresent"
              },
              {
                "name": "config-reloader",
                "image": "quay.io/prometheus-operator/prometheus-config-reloader:v0.49.0",
                "command": [
                  "/bin/prometheus-config-reloader"
                ],
                "args": [
                  "--listen-address=:8080",
                  "--reload-url=http://***HIDDEN***:9093/-/reload",
                  "--watched-dir=/etc/alertmanager/config"
                ],
                "env": [
                  {
                    "name": "POD_NAME",
                    "valueFrom": {
                      "fieldRef": {
                        "apiVersion": "v1",
                        "fieldPath": "metadata.name"
                      }
                    }
                  },
                  {
                    "name": "SHARD",
                    "value": "-1"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  },
                  "requests": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  }
                },
                "volumeMounts": [
                  {
                    "name": "config-volume",
                    "readOnly": true,
                    "mountPath": "/etc/alertmanager/config"
                  }
                ],
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "FallbackToLogsOnError",
                "imagePullPolicy": "IfNotPresent"
              }
            ],
            "restartPolicy": "Always",
            "terminationGracePeriodSeconds": 120,
            "dnsPolicy": "ClusterFirst",
            "serviceAccountName": "prometheus-alertmanager",
            "serviceAccount": "prometheus-alertmanager",
            "securityContext": {
              "runAsUser": 1000,
              "runAsGroup": 2000,
              "runAsNonRoot": true,
              "fsGroup": 2000
            },
            "affinity": {
              "podAntiAffinity": {
                "requiredDuringSchedulingIgnoredDuringExecution": [
                  {
                    "labelSelector": {
                      "matchExpressions": [
                        {
                          "key": "app",
                          "operator": "In",
                          "values": [
                            "alertmanager"
                          ]
                        },
                        {
                          "key": "alertmanager",
                          "operator": "In",
                          "values": [
                            "prometheus-alertmanager"
                          ]
                        }
                      ]
                    },
                    "topologyKey": "kubernetes.io/hostname"
                  }
                ]
              }
            },
            "schedulerName": "default-scheduler"
          }
        },
        "serviceName": "alertmanager-operated",
        "podManagementPolicy": "Parallel",
        "updateStrategy": {
          "type": "RollingUpdate"
        },
        "revisionHistoryLimit": 10
      },
      "status": {
        "observedGeneration": 2,
        "replicas": 2,
        "readyReplicas": 1,
        "currentReplicas": 1,
        "updatedReplicas": 1,
        "currentRevision": "alertmanager-prometheus-alertmanager-575f5ccd86",
        "updateRevision": "alertmanager-prometheus-alertmanager-575f5ccd86",
        "collisionCount": 0
      }
    },
    {
      "metadata": {
        "name": "prometheus-k8s",
        "namespace": "monitoring",
        "selfLink": "/apis/apps/v1/namespaces/monitoring/statefulsets/prometheus-k8s",
        "uid": "5f50dac8-79ce-4fab-b1f3-5064aab59266",
        "resourceVersion": "2791",
        "generation": 2,
        "creationTimestamp": "2021-12-17T18:41:31Z",
        "labels": {
          "app": "kube-prometheus-stack-prometheus",
          "app.kubernetes.io/instance": "v0.49.0-17.1.3",
          "app.kubernetes.io/managed-by": "Helm",
          "app.kubernetes.io/part-of": "kube-prometheus-stack",
          "app.kubernetes.io/version": "17.1.3",
          "chart": "kube-prometheus-stack-17.1.3",
          "heritage": "Helm",
          "operator.prometheus.io/name": "k8s",
          "operator.prometheus.io/shard": "0",
          "release": "v0.49.0-17.1.3"
        },
        "annotations": {
          "prometheus-operator-input-hash": "17776800170066970690"
        },
        "ownerReferences": [
          {
            "apiVersion": "monitoring.coreos.com/v1",
            "kind": "Prometheus",
            "name": "k8s",
            "uid": "e224f9c1-90b8-4454-8855-8a18ad7984e3",
            "controller": true,
            "blockOwnerDeletion": true
          }
        ],
        "managedFields": [
          {
            "manager": "operator",
            "operation": "Update",
            "apiVersion": "apps/v1",
            "time": "2021-12-17T18:42:38Z",
            "fieldsType": "FieldsV1",
            "fieldsV1": {
              "f:metadata": {
                "f:annotations": {
                  ".": {},
                  "f:prometheus-operator-input-hash": {}
                },
                "f:labels": {
                  ".": {},
                  "f:app": {},
                  "f:app.kubernetes.io/instance": {},
                  "f:app.kubernetes.io/managed-by": {},
                  "f:app.kubernetes.io/part-of": {},
                  "f:app.kubernetes.io/version": {},
                  "f:chart": {},
                  "f:heritage": {},
                  "f:operator.prometheus.io/name": {},
                  "f:operator.prometheus.io/shard": {},
                  "f:release": {}
                },
                "f:ownerReferences": {
                  ".": {},
                  "k:{\"uid\":\"e224f9c1-90b8-4454-8855-8a18ad7984e3\"}": {
                    ".": {},
                    "f:apiVersion": {},
                    "f:blockOwnerDeletion": {},
                    "f:controller": {},
                    "f:kind": {},
                    "f:name": {},
                    "f:uid": {}
                  }
                }
              },
              "f:spec": {
                "f:podManagementPolicy": {},
                "f:replicas": {},
                "f:revisionHistoryLimit": {},
                "f:selector": {
                  "f:matchLabels": {
                    ".": {},
                    "f:app": {},
                    "f:app.kubernetes.io/instance": {},
                    "f:app.kubernetes.io/managed-by": {},
                    "f:app.kubernetes.io/name": {},
                    "f:operator.prometheus.io/name": {},
                    "f:operator.prometheus.io/shard": {},
                    "f:prometheus": {}
                  }
                },
                "f:serviceName": {},
                "f:template": {
                  "f:metadata": {
                    "f:annotations": {
                      ".": {},
                      "f:kubectl.kubernetes.io/default-container": {}
                    },
                    "f:labels": {
                      ".": {},
                      "f:app": {},
                      "f:app.kubernetes.io/instance": {},
                      "f:app.kubernetes.io/managed-by": {},
                      "f:app.kubernetes.io/name": {},
                      "f:app.kubernetes.io/version": {},
                      "f:operator.prometheus.io/name": {},
                      "f:operator.prometheus.io/shard": {},
                      "f:prometheus": {}
                    }
                  },
                  "f:spec": {
                    "f:affinity": {
                      ".": {},
                      "f:podAntiAffinity": {
                        ".": {},
                        "f:requiredDuringSchedulingIgnoredDuringExecution": {}
                      }
                    },
                    "f:containers": {
                      "k:{\"name\":\"config-reloader\"}": {
                        ".": {},
                        "f:args": {},
                        "f:command": {},
                        "f:env": {
                          ".": {},
                          "k:{\"name\":\"POD_NAME\"}": {
                            ".": {},
                            "f:name": {},
                            "f:valueFrom": {
                              ".": {},
                              "f:fieldRef": {
                                ".": {},
                                "f:apiVersion": {},
                                "f:fieldPath": {}
                              }
                            }
                          },
                          "k:{\"name\":\"SHARD\"}": {
                            ".": {},
                            "f:name": {},
                            "f:value": {}
                          }
                        },
                        "f:image": {},
                        "f:imagePullPolicy": {},
                        "f:name": {},
                        "f:resources": {
                          ".": {},
                          "f:limits": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          },
                          "f:requests": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          }
                        },
                        "f:terminationMessagePath": {},
                        "f:terminationMessagePolicy": {},
                        "f:volumeMounts": {
                          ".": {},
                          "k:{\"mountPath\":\"/etc/prometheus/config\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/config_out\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/rules/prometheus-k8s-rulefiles-0\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          }
                        }
                      },
                      "k:{\"name\":\"prometheus\"}": {
                        ".": {},
                        "f:args": {},
                        "f:image": {},
                        "f:imagePullPolicy": {},
                        "f:name": {},
                        "f:ports": {
                          ".": {},
                          "k:{\"containerPort\":9090,\"protocol\":\"TCP\"}": {
                            ".": {},
                            "f:containerPort": {},
                            "f:name": {},
                            "f:protocol": {}
                          }
                        },
                        "f:readinessProbe": {
                          ".": {},
                          "f:failureThreshold": {},
                          "f:httpGet": {
                            ".": {},
                            "f:path": {},
                            "f:port": {},
                            "f:scheme": {}
                          },
                          "f:periodSeconds": {},
                          "f:successThreshold": {},
                          "f:timeoutSeconds": {}
                        },
                        "f:resources": {},
                        "f:terminationMessagePath": {},
                        "f:terminationMessagePolicy": {},
                        "f:volumeMounts": {
                          ".": {},
                          "k:{\"mountPath\":\"/etc/prometheus/certs\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:readOnly": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/config_out\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:readOnly": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/rules/prometheus-k8s-rulefiles-0\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/web_config/web-config.yaml\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:readOnly": {},
                            "f:subPath": {}
                          },
                          "k:{\"mountPath\":\"/prometheus\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {},
                            "f:subPath": {}
                          }
                        }
                      }
                    },
                    "f:dnsPolicy": {},
                    "f:initContainers": {
                      ".": {},
                      "k:{\"name\":\"init-config-reloader\"}": {
                        ".": {},
                        "f:args": {},
                        "f:command": {},
                        "f:env": {
                          ".": {},
                          "k:{\"name\":\"POD_NAME\"}": {
                            ".": {},
                            "f:name": {},
                            "f:valueFrom": {
                              ".": {},
                              "f:fieldRef": {
                                ".": {},
                                "f:apiVersion": {},
                                "f:fieldPath": {}
                              }
                            }
                          },
                          "k:{\"name\":\"SHARD\"}": {
                            ".": {},
                            "f:name": {},
                            "f:value": {}
                          }
                        },
                        "f:image": {},
                        "f:imagePullPolicy": {},
                        "f:name": {},
                        "f:resources": {
                          ".": {},
                          "f:limits": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          },
                          "f:requests": {
                            ".": {},
                            "f:cpu": {},
                            "f:memory": {}
                          }
                        },
                        "f:terminationMessagePath": {},
                        "f:terminationMessagePolicy": {},
                        "f:volumeMounts": {
                          ".": {},
                          "k:{\"mountPath\":\"/etc/prometheus/config\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/config_out\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          },
                          "k:{\"mountPath\":\"/etc/prometheus/rules/prometheus-k8s-rulefiles-0\"}": {
                            ".": {},
                            "f:mountPath": {},
                            "f:name": {}
                          }
                        }
                      }
                    },
                    "f:restartPolicy": {},
                    "f:schedulerName": {},
                    "f:securityContext": {
                      ".": {},
                      "f:fsGroup": {},
                      "f:runAsGroup": {},
                      "f:runAsNonRoot": {},
                      "f:runAsUser": {}
                    },
                    "f:serviceAccount": {},
                    "f:serviceAccountName": {},
                    "f:terminationGracePeriodSeconds": {},
                    "f:volumes": {
                      ".": {},
                      "k:{\"name\":\"config\"}": {
                        ".": {},
                        "f:name": {},
                        "f:secret": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:secretName": {}
                        }
                      },
                      "k:{\"name\":\"config-out\"}": {
                        ".": {},
                        "f:emptyDir": {},
                        "f:name": {}
                      },
                      "k:{\"name\":\"prometheus-k8s-rulefiles-0\"}": {
                        ".": {},
                        "f:configMap": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:name": {}
                        },
                        "f:name": {}
                      },
                      "k:{\"name\":\"tls-assets\"}": {
                        ".": {},
                        "f:name": {},
                        "f:secret": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:secretName": {}
                        }
                      },
                      "k:{\"name\":\"web-config\"}": {
                        ".": {},
                        "f:name": {},
                        "f:secret": {
                          ".": {},
                          "f:defaultMode": {},
                          "f:secretName": {}
                        }
                      }
                    }
                  }
                },
                "f:updateStrategy": {
                  "f:type": {}
                },
                "f:volumeClaimTemplates": {}
              },
              "f:status": {
                "f:replicas": {}
              }
            }
          }
        ]
      },
      "spec": {
        "replicas": 1,
        "selector": {
          "matchLabels": {
            "app": "prometheus",
            "app.kubernetes.io/instance": "k8s",
            "app.kubernetes.io/managed-by": "prometheus-operator",
            "app.kubernetes.io/name": "prometheus",
            "operator.prometheus.io/name": "k8s",
            "operator.prometheus.io/shard": "0",
            "prometheus": "k8s"
          }
        },
        "template": {
          "metadata": {
            "creationTimestamp": null,
            "labels": {
              "app": "prometheus",
              "app.kubernetes.io/instance": "k8s",
              "app.kubernetes.io/managed-by": "prometheus-operator",
              "app.kubernetes.io/name": "prometheus",
              "app.kubernetes.io/version": "2.28.1",
              "operator.prometheus.io/name": "k8s",
              "operator.prometheus.io/shard": "0",
              "prometheus": "k8s"
            },
            "annotations": {
              "kubectl.kubernetes.io/default-container": "prometheus"
            }
          },
          "spec": {
            "volumes": [
              {
                "name": "config",
                "secret": {
                  "secretName": "prometheus-k8s",
                  "defaultMode": 420
                }
              },
              {
                "name": "tls-assets",
                "secret": {
                  "secretName": "prometheus-k8s-tls-assets",
                  "defaultMode": 420
                }
              },
              {
                "name": "config-out",
                "emptyDir": {}
              },
              {
                "name": "prometheus-k8s-rulefiles-0",
                "configMap": {
                  "name": "prometheus-k8s-rulefiles-0",
                  "defaultMode": 420
                }
              },
              {
                "name": "web-config",
                "secret": {
                  "secretName": "prometheus-k8s-web-config",
                  "defaultMode": 420
                }
              }
            ],
            "initContainers": [
              {
                "name": "init-config-reloader",
                "image": "quay.io/prometheus-operator/prometheus-config-reloader:v0.49.0",
                "command": [
                  "/bin/prometheus-config-reloader"
                ],
                "args": [
                  "--watch-interval=0",
                  "--listen-address=:8080",
                  "--config-file=/etc/prometheus/config/prometheus.yaml.gz",
                  "--config-envsubst-file=/etc/prometheus/config_out/prometheus.env.yaml",
                  "--watched-dir=/etc/prometheus/rules/prometheus-k8s-rulefiles-0"
                ],
                "env": [
                  {
                    "name": "POD_NAME",
                    "valueFrom": {
                      "fieldRef": {
                        "apiVersion": "v1",
                        "fieldPath": "metadata.name"
                      }
                    }
                  },
                  {
                    "name": "SHARD",
                    "value": "0"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  },
                  "requests": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  }
                },
                "volumeMounts": [
                  {
                    "name": "config",
                    "mountPath": "/etc/prometheus/config"
                  },
                  {
                    "name": "config-out",
                    "mountPath": "/etc/prometheus/config_out"
                  },
                  {
                    "name": "prometheus-k8s-rulefiles-0",
                    "mountPath": "/etc/prometheus/rules/prometheus-k8s-rulefiles-0"
                  }
                ],
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "FallbackToLogsOnError",
                "imagePullPolicy": "IfNotPresent"
              }
            ],
            "containers": [
              {
                "name": "prometheus",
                "image": "quay.io/prometheus/prometheus:v2.28.1",
                "args": [
                  "--web.console.templates=/etc/prometheus/consoles",
                  "--web.console.libraries=/etc/prometheus/console_libraries",
                  "--storage.tsdb.retention.size=9GB",
                  "--config.file=/etc/prometheus/config_out/prometheus.env.yaml",
                  "--storage.tsdb.path=/prometheus",
                  "--storage.tsdb.retention.time=15d",
                  "--web.enable-lifecycle",
                  "--web.external-url=http://prometheus-k8s.monitoring:9090",
                  "--web.route-prefix=/",
                  "--web.config.file=/etc/prometheus/web_config/web-config.yaml"
                ],
                "ports": [
                  {
                    "name": "web",
                    "containerPort": 9090,
                    "protocol": "TCP"
                  }
                ],
                "resources": {},
                "volumeMounts": [
                  {
                    "name": "config-out",
                    "readOnly": true,
                    "mountPath": "/etc/prometheus/config_out"
                  },
                  {
                    "name": "tls-assets",
                    "readOnly": true,
                    "mountPath": "/etc/prometheus/certs"
                  },
                  {
                    "name": "prometheus-k8s-db",
                    "mountPath": "/prometheus",
                    "subPath": "prometheus-db"
                  },
                  {
                    "name": "prometheus-k8s-rulefiles-0",
                    "mountPath": "/etc/prometheus/rules/prometheus-k8s-rulefiles-0"
                  },
                  {
                    "name": "web-config",
                    "readOnly": true,
                    "mountPath": "/etc/prometheus/web_config/web-config.yaml",
                    "subPath": "web-config.yaml"
                  }
                ],
                "readinessProbe": {
                  "httpGet": {
                    "path": "/-/ready",
                    "port": "web",
                    "scheme": "HTTP"
                  },
                  "timeoutSeconds": 3,
                  "periodSeconds": 5,
                  "successThreshold": 1,
                  "failureThreshold": 120
                },
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "FallbackToLogsOnError",
                "imagePullPolicy": "IfNotPresent"
              },
              {
                "name": "config-reloader",
                "image": "quay.io/prometheus-operator/prometheus-config-reloader:v0.49.0",
                "command": [
                  "/bin/prometheus-config-reloader"
                ],
                "args": [
                  "--listen-address=:8080",
                  "--reload-url=http://***HIDDEN***:9090/-/reload",
                  "--config-file=/etc/prometheus/config/prometheus.yaml.gz",
                  "--config-envsubst-file=/etc/prometheus/config_out/prometheus.env.yaml",
                  "--watched-dir=/etc/prometheus/rules/prometheus-k8s-rulefiles-0"
                ],
                "env": [
                  {
                    "name": "POD_NAME",
                    "valueFrom": {
                      "fieldRef": {
                        "apiVersion": "v1",
                        "fieldPath": "metadata.name"
                      }
                    }
                  },
                  {
                    "name": "SHARD",
                    "value": "0"
                  }
                ],
                "resources": {
                  "limits": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  },
                  "requests": {
                    "cpu": "100m",
                    "memory": "50Mi"
                  }
                },
                "volumeMounts": [
                  {
                    "name": "config",
                    "mountPath": "/etc/prometheus/config"
                  },
                  {
                    "name": "config-out",
                    "mountPath": "/etc/prometheus/config_out"
                  },
                  {
                    "name": "prometheus-k8s-rulefiles-0",
                    "mountPath": "/etc/prometheus/rules/prometheus-k8s-rulefiles-0"
                  }
                ],
                "terminationMessagePath": "/dev/termination-log",
                "terminationMessagePolicy": "FallbackToLogsOnError",
                "imagePullPolicy": "IfNotPresent"
              }
            ],
            "restartPolicy": "Always",
            "terminationGracePeriodSeconds": 600,
            "dnsPolicy": "ClusterFirst",
            "serviceAccountName": "k8s",
            "serviceAccount": "k8s",
            "securityContext": {
              "runAsUser": 1000,
              "runAsGroup": 2000,
              "runAsNonRoot": true,
              "fsGroup": 2000
            },
            "affinity": {
              "podAntiAffinity": {
                "requiredDuringSchedulingIgnoredDuringExecution": [
                  {
                    "labelSelector": {
                      "matchExpressions": [
                        {
                          "key": "app.kubernetes.io/name",
                          "operator": "In",
                          "values": [
                            "prometheus"
                          ]
                        },
                        {
                          "key": "prometheus",
                          "operator": "In",
                          "values": [
                            "k8s"
                          ]
                        }
                      ]
                    },
                    "topologyKey": "kubernetes.io/hostname"
                  }
                ]
              }
            },
            "schedulerName": "default-scheduler"
          }
        },
        "volumeClaimTemplates": [
          {
            "kind": "PersistentVolumeClaim",
            "apiVersion": "v1",
            "metadata": {
              "name": "prometheus-k8s-db",
              "creationTimestamp": null
            },
            "spec": {
              "accessModes": [
                "ReadWriteOnce"
              ],
              "resources": {
                "requests": {
                  "storage": "10Gi"
                }
              },
              "volumeMode": "Filesystem"
            },
            "status": {
              "phase": "Pending"
            }
          }
        ],
        "serviceName": "prometheus-operated",
        "podManagementPolicy": "Parallel",
        "updateStrategy": {
          "type": "RollingUpdate"
        },
        "revisionHistoryLimit": 10
      },
      "status": {
        "observedGeneration": 2,
        "replicas": 1,
        "readyReplicas": 1,
        "currentReplicas": 1,
        "updatedReplicas": 1,
        "currentRevision": "prometheus-k8s-5d6959665b",
        "updateRevision": "prometheus-k8s-5d6959665b",
        "collisionCount": 0
      }
    }
  ]
}